<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>hudi 安装 | ACP数字中台</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="/font-awesome-5.11.2/css/all.min.css">
    <meta name="description" content="能够灵活满足企业数字化建设中各种场景的需要，更高效、专注的沉淀业务和数据能力，进而形成企业的业务和数据中台。通过能力的灵活组合，快速的应对当前快节奏的市场需求，助力企业数字化转型的成功。">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="preload" href="/assets/css/0.styles.18563bf9.css" as="style"><link rel="preload" href="/assets/js/app.0bbd86b0.js" as="script"><link rel="preload" href="/assets/js/4.2978aa4d.js" as="script"><link rel="preload" href="/assets/js/2.322fa787.js" as="script"><link rel="preload" href="/assets/js/1.c4b01093.js" as="script"><link rel="preload" href="/assets/js/176.43f2e1b5.js" as="script"><link rel="prefetch" href="/assets/js/100.8f4c08e9.js"><link rel="prefetch" href="/assets/js/101.98cf60de.js"><link rel="prefetch" href="/assets/js/102.e5dfffd3.js"><link rel="prefetch" href="/assets/js/103.782d0547.js"><link rel="prefetch" href="/assets/js/104.81efc90f.js"><link rel="prefetch" href="/assets/js/105.e6e9bb3c.js"><link rel="prefetch" href="/assets/js/106.6201028c.js"><link rel="prefetch" href="/assets/js/107.023e10e9.js"><link rel="prefetch" href="/assets/js/108.90089427.js"><link rel="prefetch" href="/assets/js/109.ae5b1da0.js"><link rel="prefetch" href="/assets/js/11.a6babf9f.js"><link rel="prefetch" href="/assets/js/110.f185a34b.js"><link rel="prefetch" href="/assets/js/111.fa8834f5.js"><link rel="prefetch" href="/assets/js/112.4184f9c2.js"><link rel="prefetch" href="/assets/js/113.c8b55aef.js"><link rel="prefetch" href="/assets/js/114.72a3eb72.js"><link rel="prefetch" href="/assets/js/115.1dc81c88.js"><link rel="prefetch" href="/assets/js/116.16add401.js"><link rel="prefetch" href="/assets/js/117.cdba528e.js"><link rel="prefetch" href="/assets/js/118.2ce30ff5.js"><link rel="prefetch" href="/assets/js/119.39e1bb88.js"><link rel="prefetch" href="/assets/js/12.4ab11666.js"><link rel="prefetch" href="/assets/js/120.41986642.js"><link rel="prefetch" href="/assets/js/121.f0c411e4.js"><link rel="prefetch" href="/assets/js/122.08041b68.js"><link rel="prefetch" href="/assets/js/123.7623d56f.js"><link rel="prefetch" href="/assets/js/124.22bcb0ae.js"><link rel="prefetch" href="/assets/js/125.c15feadb.js"><link rel="prefetch" href="/assets/js/126.23bebc37.js"><link rel="prefetch" href="/assets/js/127.20adc3b6.js"><link rel="prefetch" href="/assets/js/128.a0d8a6e7.js"><link rel="prefetch" href="/assets/js/129.36e1f020.js"><link rel="prefetch" href="/assets/js/13.4ead0c82.js"><link rel="prefetch" href="/assets/js/130.c69293f0.js"><link rel="prefetch" href="/assets/js/131.26130e81.js"><link rel="prefetch" href="/assets/js/132.c57b4844.js"><link rel="prefetch" href="/assets/js/133.eb5b00dd.js"><link rel="prefetch" href="/assets/js/134.e19cb2cd.js"><link rel="prefetch" href="/assets/js/135.4ac29b42.js"><link rel="prefetch" href="/assets/js/136.2f875811.js"><link rel="prefetch" href="/assets/js/137.f6a4f1eb.js"><link rel="prefetch" href="/assets/js/138.fa0d7205.js"><link rel="prefetch" href="/assets/js/139.134f1a9f.js"><link rel="prefetch" href="/assets/js/14.8c6e7971.js"><link rel="prefetch" href="/assets/js/140.b37e17f0.js"><link rel="prefetch" href="/assets/js/141.22a0a7e4.js"><link rel="prefetch" href="/assets/js/142.a5c7e9f3.js"><link rel="prefetch" href="/assets/js/143.156d04ee.js"><link rel="prefetch" href="/assets/js/144.44269f92.js"><link rel="prefetch" href="/assets/js/145.67890f37.js"><link rel="prefetch" href="/assets/js/146.dfbbd315.js"><link rel="prefetch" href="/assets/js/147.95a2812b.js"><link rel="prefetch" href="/assets/js/148.f775d545.js"><link rel="prefetch" href="/assets/js/149.9278afc8.js"><link rel="prefetch" href="/assets/js/15.df408a44.js"><link rel="prefetch" href="/assets/js/150.b0d80328.js"><link rel="prefetch" href="/assets/js/151.220d654e.js"><link rel="prefetch" href="/assets/js/152.b15d44da.js"><link rel="prefetch" href="/assets/js/153.67c39e32.js"><link rel="prefetch" href="/assets/js/154.ef36c116.js"><link rel="prefetch" href="/assets/js/155.847eb46d.js"><link rel="prefetch" href="/assets/js/156.ec000664.js"><link rel="prefetch" href="/assets/js/157.79a5ed9f.js"><link rel="prefetch" href="/assets/js/158.2aa0476e.js"><link rel="prefetch" href="/assets/js/159.406e795f.js"><link rel="prefetch" href="/assets/js/16.acb955e8.js"><link rel="prefetch" href="/assets/js/160.032c7f47.js"><link rel="prefetch" href="/assets/js/161.7d762b45.js"><link rel="prefetch" href="/assets/js/162.85844473.js"><link rel="prefetch" href="/assets/js/163.ccc1f1a3.js"><link rel="prefetch" href="/assets/js/164.32dd274a.js"><link rel="prefetch" href="/assets/js/165.41fcacd1.js"><link rel="prefetch" href="/assets/js/166.6205bfeb.js"><link rel="prefetch" href="/assets/js/167.1d32dcfd.js"><link rel="prefetch" href="/assets/js/168.60d22535.js"><link rel="prefetch" href="/assets/js/169.e1f69a12.js"><link rel="prefetch" href="/assets/js/17.24464c68.js"><link rel="prefetch" href="/assets/js/170.1e4ba9f3.js"><link rel="prefetch" href="/assets/js/171.46230f12.js"><link rel="prefetch" href="/assets/js/172.d8b87d5d.js"><link rel="prefetch" href="/assets/js/173.60ca0768.js"><link rel="prefetch" href="/assets/js/174.cc1b0b1f.js"><link rel="prefetch" href="/assets/js/175.c3a99b28.js"><link rel="prefetch" href="/assets/js/177.6fbd55e0.js"><link rel="prefetch" href="/assets/js/178.f2783899.js"><link rel="prefetch" href="/assets/js/179.dbfac70d.js"><link rel="prefetch" href="/assets/js/18.89397e18.js"><link rel="prefetch" href="/assets/js/180.a522d156.js"><link rel="prefetch" href="/assets/js/181.e49df259.js"><link rel="prefetch" href="/assets/js/182.6c4605d9.js"><link rel="prefetch" href="/assets/js/183.8c6b417b.js"><link rel="prefetch" href="/assets/js/184.a33e2bc9.js"><link rel="prefetch" href="/assets/js/185.e187055e.js"><link rel="prefetch" href="/assets/js/186.3e93c8bd.js"><link rel="prefetch" href="/assets/js/187.b2a485d0.js"><link rel="prefetch" href="/assets/js/188.9d44360b.js"><link rel="prefetch" href="/assets/js/189.005a13cb.js"><link rel="prefetch" href="/assets/js/19.ae879943.js"><link rel="prefetch" href="/assets/js/190.522d3c83.js"><link rel="prefetch" href="/assets/js/191.841d516f.js"><link rel="prefetch" href="/assets/js/192.4ebba4bb.js"><link rel="prefetch" href="/assets/js/193.f29d99b6.js"><link rel="prefetch" href="/assets/js/194.8df1b239.js"><link rel="prefetch" href="/assets/js/195.60c27087.js"><link rel="prefetch" href="/assets/js/196.7c1ddbc4.js"><link rel="prefetch" href="/assets/js/197.d0637abb.js"><link rel="prefetch" href="/assets/js/198.02e3566a.js"><link rel="prefetch" href="/assets/js/199.7ceb7ff2.js"><link rel="prefetch" href="/assets/js/20.d720dce6.js"><link rel="prefetch" href="/assets/js/200.bd3da059.js"><link rel="prefetch" href="/assets/js/201.22f40488.js"><link rel="prefetch" href="/assets/js/202.f3d03310.js"><link rel="prefetch" href="/assets/js/203.ff7db900.js"><link rel="prefetch" href="/assets/js/204.9148bffc.js"><link rel="prefetch" href="/assets/js/205.842c71fb.js"><link rel="prefetch" href="/assets/js/206.74da8743.js"><link rel="prefetch" href="/assets/js/207.3a4da6be.js"><link rel="prefetch" href="/assets/js/208.a52d3de8.js"><link rel="prefetch" href="/assets/js/209.e7868145.js"><link rel="prefetch" href="/assets/js/21.d46d5af7.js"><link rel="prefetch" href="/assets/js/210.04f2a0a7.js"><link rel="prefetch" href="/assets/js/211.2492a3b1.js"><link rel="prefetch" href="/assets/js/212.8610378e.js"><link rel="prefetch" href="/assets/js/213.edea08d9.js"><link rel="prefetch" href="/assets/js/214.47032732.js"><link rel="prefetch" href="/assets/js/215.88564c0b.js"><link rel="prefetch" href="/assets/js/216.1da074c8.js"><link rel="prefetch" href="/assets/js/217.7a506a4e.js"><link rel="prefetch" href="/assets/js/218.e076e043.js"><link rel="prefetch" href="/assets/js/219.377125f9.js"><link rel="prefetch" href="/assets/js/22.5b689bca.js"><link rel="prefetch" href="/assets/js/220.4b67b84e.js"><link rel="prefetch" href="/assets/js/221.695acb13.js"><link rel="prefetch" href="/assets/js/222.16c98693.js"><link rel="prefetch" href="/assets/js/223.f5142ea5.js"><link rel="prefetch" href="/assets/js/224.2e740948.js"><link rel="prefetch" href="/assets/js/225.2dac9714.js"><link rel="prefetch" href="/assets/js/226.d35d2191.js"><link rel="prefetch" href="/assets/js/227.5adeacc5.js"><link rel="prefetch" href="/assets/js/228.30e14e4f.js"><link rel="prefetch" href="/assets/js/229.c3cdeee7.js"><link rel="prefetch" href="/assets/js/23.3b8bb75b.js"><link rel="prefetch" href="/assets/js/230.a8581682.js"><link rel="prefetch" href="/assets/js/231.0d19abb3.js"><link rel="prefetch" href="/assets/js/232.948e5494.js"><link rel="prefetch" href="/assets/js/233.c8e8f8a5.js"><link rel="prefetch" href="/assets/js/234.e1c21c69.js"><link rel="prefetch" href="/assets/js/235.b7e2053f.js"><link rel="prefetch" href="/assets/js/236.25334b84.js"><link rel="prefetch" href="/assets/js/237.2f4d71cc.js"><link rel="prefetch" href="/assets/js/238.6a8c22b9.js"><link rel="prefetch" href="/assets/js/239.631711ef.js"><link rel="prefetch" href="/assets/js/24.40cf9647.js"><link rel="prefetch" href="/assets/js/240.41306177.js"><link rel="prefetch" href="/assets/js/241.77142b6b.js"><link rel="prefetch" href="/assets/js/242.9aba8db1.js"><link rel="prefetch" href="/assets/js/243.3ec21aed.js"><link rel="prefetch" href="/assets/js/244.2578e161.js"><link rel="prefetch" href="/assets/js/245.6ae07bea.js"><link rel="prefetch" href="/assets/js/246.80c20684.js"><link rel="prefetch" href="/assets/js/247.129725e1.js"><link rel="prefetch" href="/assets/js/248.0389be2d.js"><link rel="prefetch" href="/assets/js/249.b77541a0.js"><link rel="prefetch" href="/assets/js/25.276f8d10.js"><link rel="prefetch" href="/assets/js/250.c9b66fb3.js"><link rel="prefetch" href="/assets/js/251.f94111d1.js"><link rel="prefetch" href="/assets/js/252.69d3577d.js"><link rel="prefetch" href="/assets/js/253.9fe68a11.js"><link rel="prefetch" href="/assets/js/254.ecf14be0.js"><link rel="prefetch" href="/assets/js/255.7d1c9a93.js"><link rel="prefetch" href="/assets/js/256.20ddcbbd.js"><link rel="prefetch" href="/assets/js/257.790a3439.js"><link rel="prefetch" href="/assets/js/258.f78e491c.js"><link rel="prefetch" href="/assets/js/259.a6f16ef5.js"><link rel="prefetch" href="/assets/js/26.086f0cdf.js"><link rel="prefetch" href="/assets/js/260.81fb2af2.js"><link rel="prefetch" href="/assets/js/261.1111477b.js"><link rel="prefetch" href="/assets/js/262.04bd1910.js"><link rel="prefetch" href="/assets/js/263.40b58b3e.js"><link rel="prefetch" href="/assets/js/264.1908aaea.js"><link rel="prefetch" href="/assets/js/265.d34235d0.js"><link rel="prefetch" href="/assets/js/266.cdbf132e.js"><link rel="prefetch" href="/assets/js/267.35b375b1.js"><link rel="prefetch" href="/assets/js/268.3990e791.js"><link rel="prefetch" href="/assets/js/269.78058ccf.js"><link rel="prefetch" href="/assets/js/27.5661430f.js"><link rel="prefetch" href="/assets/js/270.1f5c9cac.js"><link rel="prefetch" href="/assets/js/271.22e6bc21.js"><link rel="prefetch" href="/assets/js/272.11bfcc04.js"><link rel="prefetch" href="/assets/js/273.22b13e59.js"><link rel="prefetch" href="/assets/js/274.a8b4ecf2.js"><link rel="prefetch" href="/assets/js/275.fcb12f44.js"><link rel="prefetch" href="/assets/js/276.d19f2728.js"><link rel="prefetch" href="/assets/js/277.242f2d0d.js"><link rel="prefetch" href="/assets/js/278.d158e41a.js"><link rel="prefetch" href="/assets/js/279.40ee1686.js"><link rel="prefetch" href="/assets/js/28.e13232a9.js"><link rel="prefetch" href="/assets/js/280.abc2e273.js"><link rel="prefetch" href="/assets/js/281.10d4ea79.js"><link rel="prefetch" href="/assets/js/282.c1002e69.js"><link rel="prefetch" href="/assets/js/283.1637e07c.js"><link rel="prefetch" href="/assets/js/284.1ec52d04.js"><link rel="prefetch" href="/assets/js/285.53831b81.js"><link rel="prefetch" href="/assets/js/286.7fd68733.js"><link rel="prefetch" href="/assets/js/287.a6ea8eab.js"><link rel="prefetch" href="/assets/js/288.210e81e2.js"><link rel="prefetch" href="/assets/js/289.9a742b7b.js"><link rel="prefetch" href="/assets/js/29.3ca30b02.js"><link rel="prefetch" href="/assets/js/290.41a38de4.js"><link rel="prefetch" href="/assets/js/291.2a858189.js"><link rel="prefetch" href="/assets/js/292.ae296675.js"><link rel="prefetch" href="/assets/js/293.d2596ece.js"><link rel="prefetch" href="/assets/js/294.69e33170.js"><link rel="prefetch" href="/assets/js/295.0f1942c0.js"><link rel="prefetch" href="/assets/js/296.ae0e7876.js"><link rel="prefetch" href="/assets/js/297.3923e385.js"><link rel="prefetch" href="/assets/js/298.2eb8488b.js"><link rel="prefetch" href="/assets/js/299.7b29fd14.js"><link rel="prefetch" href="/assets/js/3.eed2c72e.js"><link rel="prefetch" href="/assets/js/30.ee7fb456.js"><link rel="prefetch" href="/assets/js/300.ab06df23.js"><link rel="prefetch" href="/assets/js/301.6f8deef4.js"><link rel="prefetch" href="/assets/js/302.7442f371.js"><link rel="prefetch" href="/assets/js/303.532327b6.js"><link rel="prefetch" href="/assets/js/304.ff489bd8.js"><link rel="prefetch" href="/assets/js/305.9db092ad.js"><link rel="prefetch" href="/assets/js/306.b32f6d69.js"><link rel="prefetch" href="/assets/js/307.f6181919.js"><link rel="prefetch" href="/assets/js/308.e38aac09.js"><link rel="prefetch" href="/assets/js/309.3d688bd0.js"><link rel="prefetch" href="/assets/js/31.bfce441a.js"><link rel="prefetch" href="/assets/js/310.69aed405.js"><link rel="prefetch" href="/assets/js/311.a51c7d40.js"><link rel="prefetch" href="/assets/js/312.e8a2a229.js"><link rel="prefetch" href="/assets/js/313.3cc8e1fd.js"><link rel="prefetch" href="/assets/js/314.ca7892dc.js"><link rel="prefetch" href="/assets/js/315.2a8f6e4d.js"><link rel="prefetch" href="/assets/js/316.c3f89a0a.js"><link rel="prefetch" href="/assets/js/317.0ed893a4.js"><link rel="prefetch" href="/assets/js/318.96f71057.js"><link rel="prefetch" href="/assets/js/319.cf2bbbe7.js"><link rel="prefetch" href="/assets/js/32.9aad6ffb.js"><link rel="prefetch" href="/assets/js/320.7d7da954.js"><link rel="prefetch" href="/assets/js/321.6c058fdc.js"><link rel="prefetch" href="/assets/js/322.396739d0.js"><link rel="prefetch" href="/assets/js/323.e4debd6b.js"><link rel="prefetch" href="/assets/js/324.038828dd.js"><link rel="prefetch" href="/assets/js/325.17dbce95.js"><link rel="prefetch" href="/assets/js/326.88a1790c.js"><link rel="prefetch" href="/assets/js/327.da09a905.js"><link rel="prefetch" href="/assets/js/328.77a282a2.js"><link rel="prefetch" href="/assets/js/329.8638fb45.js"><link rel="prefetch" href="/assets/js/33.35a70cfd.js"><link rel="prefetch" href="/assets/js/330.b620f41b.js"><link rel="prefetch" href="/assets/js/331.df02c247.js"><link rel="prefetch" href="/assets/js/332.7c3f69bf.js"><link rel="prefetch" href="/assets/js/333.535a907b.js"><link rel="prefetch" href="/assets/js/334.c08dac13.js"><link rel="prefetch" href="/assets/js/34.fbe945bf.js"><link rel="prefetch" href="/assets/js/35.b3a067c7.js"><link rel="prefetch" href="/assets/js/36.5697983e.js"><link rel="prefetch" href="/assets/js/37.6a342180.js"><link rel="prefetch" href="/assets/js/38.73ecfc95.js"><link rel="prefetch" href="/assets/js/39.5c4f4cd5.js"><link rel="prefetch" href="/assets/js/40.f1519e65.js"><link rel="prefetch" href="/assets/js/41.4d53264b.js"><link rel="prefetch" href="/assets/js/42.4dc94cdf.js"><link rel="prefetch" href="/assets/js/43.6939378b.js"><link rel="prefetch" href="/assets/js/44.a6711e9c.js"><link rel="prefetch" href="/assets/js/45.59928015.js"><link rel="prefetch" href="/assets/js/46.195ebd61.js"><link rel="prefetch" href="/assets/js/47.54fa3678.js"><link rel="prefetch" href="/assets/js/48.23533939.js"><link rel="prefetch" href="/assets/js/49.5db4711a.js"><link rel="prefetch" href="/assets/js/5.7a1bd4e7.js"><link rel="prefetch" href="/assets/js/50.29fd634c.js"><link rel="prefetch" href="/assets/js/51.98657a7d.js"><link rel="prefetch" href="/assets/js/52.8c1c026a.js"><link rel="prefetch" href="/assets/js/53.87898010.js"><link rel="prefetch" href="/assets/js/54.6269ed95.js"><link rel="prefetch" href="/assets/js/55.151bacc3.js"><link rel="prefetch" href="/assets/js/56.4f6a32ab.js"><link rel="prefetch" href="/assets/js/57.4d44ec34.js"><link rel="prefetch" href="/assets/js/58.b31c81db.js"><link rel="prefetch" href="/assets/js/59.aa2d27f1.js"><link rel="prefetch" href="/assets/js/6.a19f0de0.js"><link rel="prefetch" href="/assets/js/60.e04be21c.js"><link rel="prefetch" href="/assets/js/61.19b4437e.js"><link rel="prefetch" href="/assets/js/62.2770805b.js"><link rel="prefetch" href="/assets/js/63.8d8a99cf.js"><link rel="prefetch" href="/assets/js/64.e11eb8b7.js"><link rel="prefetch" href="/assets/js/65.15d08a3b.js"><link rel="prefetch" href="/assets/js/66.a012da68.js"><link rel="prefetch" href="/assets/js/67.916e92df.js"><link rel="prefetch" href="/assets/js/68.a9fe42b7.js"><link rel="prefetch" href="/assets/js/69.a8841d5f.js"><link rel="prefetch" href="/assets/js/7.ac8b7557.js"><link rel="prefetch" href="/assets/js/70.ae1ebe8e.js"><link rel="prefetch" href="/assets/js/71.cc48c3d3.js"><link rel="prefetch" href="/assets/js/72.2a10ae92.js"><link rel="prefetch" href="/assets/js/73.912bc02d.js"><link rel="prefetch" href="/assets/js/74.64f589f3.js"><link rel="prefetch" href="/assets/js/75.9bf0e261.js"><link rel="prefetch" href="/assets/js/76.8a01211e.js"><link rel="prefetch" href="/assets/js/77.c262f584.js"><link rel="prefetch" href="/assets/js/78.f88af295.js"><link rel="prefetch" href="/assets/js/79.1e41fe4f.js"><link rel="prefetch" href="/assets/js/8.317b3e59.js"><link rel="prefetch" href="/assets/js/80.254bae97.js"><link rel="prefetch" href="/assets/js/81.697fcba8.js"><link rel="prefetch" href="/assets/js/82.94fc6dec.js"><link rel="prefetch" href="/assets/js/83.2e2ea36e.js"><link rel="prefetch" href="/assets/js/84.a951e8b8.js"><link rel="prefetch" href="/assets/js/85.10a4362a.js"><link rel="prefetch" href="/assets/js/86.6b29471f.js"><link rel="prefetch" href="/assets/js/87.34f6eb1d.js"><link rel="prefetch" href="/assets/js/88.1125320f.js"><link rel="prefetch" href="/assets/js/89.32f88422.js"><link rel="prefetch" href="/assets/js/90.ee2ed4fc.js"><link rel="prefetch" href="/assets/js/91.9bce1831.js"><link rel="prefetch" href="/assets/js/92.a22cf604.js"><link rel="prefetch" href="/assets/js/93.3e960957.js"><link rel="prefetch" href="/assets/js/94.f8ab0d1d.js"><link rel="prefetch" href="/assets/js/95.cbc3bc06.js"><link rel="prefetch" href="/assets/js/96.f96f31dd.js"><link rel="prefetch" href="/assets/js/97.12d3e037.js"><link rel="prefetch" href="/assets/js/98.ecf12d13.js"><link rel="prefetch" href="/assets/js/99.6ebe1829.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.edcc4ef3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.18563bf9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="ACP数字中台" class="logo"> <span class="site-name can-hide">ACP数字中台</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/platform/" class="nav-link">
  产品体系
</a></div><div class="nav-item"><a href="/solution/" class="nav-link">
  解决方案
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数字建设" class="dropdown-title"><span class="title">数字建设</span> <span class="arrow down"></span></button> <button type="button" aria-label="数字建设" class="mobile-dropdown-title"><span class="title">数字建设</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design/overview/" class="nav-link">
  数字规划
</a></li><li class="dropdown-item"><!----> <a href="/group/01_部门建设/" class="nav-link">
  组织架构
</a></li><li class="dropdown-item"><!----> <a href="/framework/" class="nav-link">
  研发架构
</a></li><li class="dropdown-item"><!----> <a href="/data/framework/" class="nav-link">
  数据架构
</a></li></ul></div></div><div class="nav-item"><a href="/operation/" class="nav-link router-link-active">
  部署建设
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者" class="dropdown-title"><span class="title">开发者</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发者" class="mobile-dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/firstlearn/" class="nav-link">
  新手入门
</a></li><li class="dropdown-item"><!----> <a href="/front/" class="nav-link">
  前端手册
</a></li><li class="dropdown-item"><!----> <a href="/technique/" class="nav-link">
  后端手册
</a></li><li class="dropdown-item"><!----> <a href="/dataskill/" class="nav-link">
  数据手册
</a></li></ul></div></div><div class="nav-item"><a href="/prices/" class="nav-link">
  产品服务
</a></div><div class="nav-item"><a href="http://alinesno-saas.beta.linesno.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  产品体验
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/alinesno-cloud/alinesno-cloud-platform-press" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/platform/" class="nav-link">
  产品体系
</a></div><div class="nav-item"><a href="/solution/" class="nav-link">
  解决方案
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数字建设" class="dropdown-title"><span class="title">数字建设</span> <span class="arrow down"></span></button> <button type="button" aria-label="数字建设" class="mobile-dropdown-title"><span class="title">数字建设</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design/overview/" class="nav-link">
  数字规划
</a></li><li class="dropdown-item"><!----> <a href="/group/01_部门建设/" class="nav-link">
  组织架构
</a></li><li class="dropdown-item"><!----> <a href="/framework/" class="nav-link">
  研发架构
</a></li><li class="dropdown-item"><!----> <a href="/data/framework/" class="nav-link">
  数据架构
</a></li></ul></div></div><div class="nav-item"><a href="/operation/" class="nav-link router-link-active">
  部署建设
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者" class="dropdown-title"><span class="title">开发者</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发者" class="mobile-dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/firstlearn/" class="nav-link">
  新手入门
</a></li><li class="dropdown-item"><!----> <a href="/front/" class="nav-link">
  前端手册
</a></li><li class="dropdown-item"><!----> <a href="/technique/" class="nav-link">
  后端手册
</a></li><li class="dropdown-item"><!----> <a href="/dataskill/" class="nav-link">
  数据手册
</a></li></ul></div></div><div class="nav-item"><a href="/prices/" class="nav-link">
  产品服务
</a></div><div class="nav-item"><a href="http://alinesno-saas.beta.linesno.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  产品体验
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/alinesno-cloud/alinesno-cloud-platform-press" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>部署规划</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数字中台</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>容器镜像</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>管理环境</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础软件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据环境</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/operation/39_hudi/03_scala安装.html" class="sidebar-link">scala 安装</a></li><li><a href="/operation/39_hudi/07_hadoop安装.html" class="sidebar-link">hadoop安装</a></li><li><a href="/operation/39_hudi/08_spark安装.html" class="sidebar-link">spark安装</a></li><li><a href="/operation/39_hudi/09_hive安装.html" class="sidebar-link">hive安装</a></li><li><a href="/operation/39_hudi/01_Flink安装.html" class="sidebar-link">flink 安装</a></li><li><a href="/operation/39_hudi/06_Hudi安装.html" class="active sidebar-link">hudi 安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/operation/39_hudi/06_Hudi安装.html#本内容你将获得" class="sidebar-link">本内容你将获得</a></li><li class="sidebar-sub-header"><a href="/operation/39_hudi/06_Hudi安装.html#软件安装" class="sidebar-link">软件安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/operation/39_hudi/06_Hudi安装.html#集成开始" class="sidebar-link">集成开始</a></li><li class="sidebar-sub-header"><a href="/operation/39_hudi/06_Hudi安装.html#flink-sql接收kafka消息" class="sidebar-link">flink sql接收kafka消息</a></li><li class="sidebar-sub-header"><a href="/operation/39_hudi/06_Hudi安装.html#flink-sql接收mysql-cdc消息" class="sidebar-link">flink sql接收mysql cdc消息</a></li><li class="sidebar-sub-header"><a href="/operation/39_hudi/06_Hudi安装.html#flink-sql创建hudi表并映射hive表" class="sidebar-link">flink sql创建hudi表并映射hive表</a></li></ul></li><li class="sidebar-sub-header"><a href="/operation/39_hudi/06_Hudi安装.html#其他" class="sidebar-link">其他</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hudi-安装"><a href="#hudi-安装" class="header-anchor">#</a> hudi 安装</h1> <h2 id="本内容你将获得"><a href="#本内容你将获得" class="header-anchor">#</a> 本内容你将获得</h2> <ul><li>flink集成kafka、mysql cdc、hudi</li> <li>flink sql接收kafka消息</li> <li>flink sql接收mysql cdc消息</li> <li>flink sql创建hudi表并映射hive表</li></ul> <h2 id="软件安装"><a href="#软件安装" class="header-anchor">#</a> 软件安装</h2> <h4 id="说明"><a href="#说明" class="header-anchor">#</a> 说明</h4> <ul><li><p>hudi依赖Java、scala、flink环境</p></li> <li><p>hudi保存数据到hdfs依赖hadoop环境</p></li> <li><p>hudi映射hive表依赖hive环境</p></li></ul> <h3 id="集成开始"><a href="#集成开始" class="header-anchor">#</a> 集成开始</h3> <h4 id="编译jar包"><a href="#编译jar包" class="header-anchor">#</a> 编译jar包</h4> <h5 id="编译hudi-jar包"><a href="#编译hudi-jar包" class="header-anchor">#</a> 编译hudi  jar包</h5> <p>从hudi代码仓库下载源码并切换到0.12.0分支</p> <p>修改Hudi\pom.xml中kafka、hadoop、hive、spark2、scala12、scala.binary的版本</p> <div class="language-java extra-class"><pre class="language-java"><code> #软件版本与数据环境一致
 <span class="token generics"><span class="token punctuation">&lt;</span>kafka<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.2</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>kafka<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>                 <span class="token comment">//旧：  &lt;kafka.version&gt;2.0.0&lt;/kafka.version&gt;</span>
 <span class="token generics"><span class="token punctuation">&lt;</span>hadoop<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.3</span><span class="token number">.4</span><span class="token operator">&lt;</span><span class="token operator">/</span>hadoop<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>               <span class="token comment">//旧：  &lt;hadoop.version&gt;2.10.1&lt;/hadoop.version&gt;</span>
 <span class="token generics"><span class="token punctuation">&lt;</span>hive<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>hive<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>                   <span class="token comment">//旧：  &lt;hive.version&gt;2.3.1&lt;/hive.version&gt; </span>
 <span class="token generics"><span class="token punctuation">&lt;</span>spark2<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.4</span><span class="token number">.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>spark2<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>               <span class="token comment">//旧：  &lt;spark2.version&gt;2.4.4&lt;/spark2.version&gt;</span>
 <span class="token generics"><span class="token punctuation">&lt;</span>scala12<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.12</span><span class="token number">.15</span><span class="token operator">&lt;</span><span class="token operator">/</span>scala12<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>           <span class="token comment">//旧：  &lt;scala12.version&gt;2.12.10&lt;/scala12.version&gt; </span>
 <span class="token generics"><span class="token punctuation">&lt;</span>scala<span class="token punctuation">.</span>binary<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.12</span><span class="token operator">&lt;</span><span class="token operator">/</span>scala<span class="token punctuation">.</span>binary<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>    <span class="token comment">//旧：  &lt;scala.binary.version&gt;2.11&lt;/scala.binary.version&gt; </span>
</code></pre></div><br> <p>修改Hudi\packaging\hudi-flink-bundle\pom.xml中hive的版本</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>hive<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>hive<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>                    <span class="token comment">//旧：  &lt;hive.version&gt;2.3.1&lt;/hive.version&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>id<span class="token punctuation">&gt;</span></span>flink<span class="token operator">-</span>bundle<span class="token operator">-</span>shade<span class="token operator">-</span>hive3<span class="token operator">&lt;</span><span class="token operator">/</span>id<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>properties<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>hive<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>hive<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>                <span class="token comment">//旧：   &lt;hive.version&gt;3.1.2&lt;/hive.version&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>flink<span class="token punctuation">.</span>bundle<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>scope<span class="token punctuation">&gt;</span></span>compile<span class="token operator">&lt;</span><span class="token operator">/</span>flink<span class="token punctuation">.</span>bundle<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>scope<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>properties<span class="token operator">&gt;</span>    
</code></pre></div><br> <p>修改Hudi\hudi-common\src\main\java\org\apache\hudi\common\table\log\block\HoodieParquetDataBlock.java的构造函数</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">FSDataOutputStream</span> outputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FSDataOutputStream</span><span class="token punctuation">(</span>baos<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//旧： try (FSDataOutputStream outputStream = new FSDataOutputStream(baos))   //避免编译报错</span>
</code></pre></div><br> <h6 id="编译-hudi-flink1-14-bundle-2-12-0-12-0-jar"><a href="#编译-hudi-flink1-14-bundle-2-12-0-12-0-jar" class="header-anchor">#</a> 编译 hudi-flink1.14-bundle_2.12-0.12.0.jar</h6> <p>进入Hudi\packaging\hudi-flink-bundle目录，执行 mvn clean install -DskipTests -Drat.skip=true -Pflink-bundle-shade-hive3 进行编译</p> <p>使用压缩工具打开hudi-flink1.14-bundle_2.12-0.12.0.jar(非解压),修改hbase-default.xml、hbase-site.xml中的hbase版本及是否跳过</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hbase<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token keyword">for</span><span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span>alpha4<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>                               <span class="token comment">//旧：  &lt;value&gt;2.4.9&lt;/value&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hbase<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token keyword">for</span><span class="token punctuation">.</span>version<span class="token punctuation">.</span>skip<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
     <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>                                  <span class="token comment">//旧：  &lt;value&gt;false&lt;/value&gt;  </span>
</code></pre></div><p>将hudi-flink1.14-bundle_2.12-0.12.0.jar 上传到 /root/tools/flink-1.14.5/lib目录</p> <br> <h6 id="编译hudi-hadoop-mr-bundle-0-12-0-jar"><a href="#编译hudi-hadoop-mr-bundle-0-12-0-jar" class="header-anchor">#</a> 编译hudi-hadoop-mr-bundle-0.12.0.jar</h6> <p>进入Hudi\packaging\hudi-hadoop-mr-bundle 目录，执行 mvn clean install -DskipTests 进行编译</p> <p>使用压缩工具打开hudi-hadoop-mr-bundle-0.12.0.jar(非解压),修改hbase-default.xml、hbase-site.xml中的hbase版本及是否跳过</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hbase<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token keyword">for</span><span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span>alpha4<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>                                <span class="token comment">//旧：  &lt;value&gt;2.4.9&lt;/value&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hbase<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token keyword">for</span><span class="token punctuation">.</span>version<span class="token punctuation">.</span>skip<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
     <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>                                   <span class="token comment">//旧：   &lt;value&gt;false&lt;/value&gt;</span>
</code></pre></div><p>将hudi-hadoop-mr-bundle-0.12.0.jar 上传到 /root/tools/hive-3.1.3/auxlib、/root/tools/hive-3.1.3/lib目录</p> <br> <h6 id="编译hudi-hive-sync-bundle-0-12-0-jar"><a href="#编译hudi-hive-sync-bundle-0-12-0-jar" class="header-anchor">#</a> 编译hudi-hive-sync-bundle-0.12.0.jar</h6> <p>进入Hudi\packaging\hudi-hive-sync-bundle 目录，执行  mvn clean install -DskipTests 进行编译</p> <p>使用压缩工具打开hudi-hive-sync-bundle-0.12.0.jar(非解压),修改hbase-default.xml、hbase-site.xml中的hbase版本及是否跳过</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hbase<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token keyword">for</span><span class="token punctuation">.</span>version<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span>alpha4<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>                                <span class="token comment">//旧：  &lt;value&gt;2.4.9&lt;/value&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hbase<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span><span class="token keyword">for</span><span class="token punctuation">.</span>version<span class="token punctuation">.</span>skip<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
     <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>                                   <span class="token comment">//旧：   &lt;value&gt;false&lt;/value&gt;</span>
</code></pre></div><p>将hudi-hive-sync-bundle-0.12.0.jar 上传到 /root/tools/hive-3.1.3/auxlib目录</p> <br> <h5 id="编译flink-shaded-hadoop-jar包"><a href="#编译flink-shaded-hadoop-jar包" class="header-anchor">#</a> 编译flink-shaded-hadoop jar包</h5> <p>从flink-shaded代码仓库下载源码并切换到release-10.0分支</p> <p>修改flink-shaded\pom.xml，在&lt;profiles&gt;增加如下配置，用于优化网络</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>profile<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>id<span class="token punctuation">&gt;</span></span>vendor<span class="token operator">-</span>repos<span class="token operator">&lt;</span><span class="token operator">/</span>id<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>activation<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>vendor<span class="token operator">-</span>repos<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>activation<span class="token operator">&gt;</span>   <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token class-name">Add</span> vendor maven repositories <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>repositories<span class="token punctuation">&gt;</span></span>       <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token class-name">Cloudera</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>repository<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>id<span class="token punctuation">&gt;</span></span>cloudera<span class="token operator">-</span>releases<span class="token operator">&lt;</span><span class="token operator">/</span>id<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>url<span class="token punctuation">&gt;</span></span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>central<span class="token operator">&lt;</span><span class="token operator">/</span>url<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>releases<span class="token punctuation">&gt;</span></span>
                <span class="token generics"><span class="token punctuation">&lt;</span>enabled<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>enabled<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>releases<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>snapshots<span class="token punctuation">&gt;</span></span>
                <span class="token generics"><span class="token punctuation">&lt;</span>enabled<span class="token punctuation">&gt;</span></span><span class="token boolean">false</span><span class="token operator">&lt;</span><span class="token operator">/</span>enabled<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>snapshots<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>repository<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>repositories<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>profile<span class="token operator">&gt;</span>
</code></pre></div><br> <p>修改flink-shaded\flink-shaded-hadoop-2-parent\pom.xml</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>hadoop<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.3</span><span class="token number">.4</span><span class="token operator">&lt;</span><span class="token operator">/</span>hadoop<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>     <span class="token comment">//旧：&lt;hadoop.version&gt;2.4.1&lt;/hadoop.version&gt;    &lt;!--对应hadoop的版本3.3.4--&gt;</span>
</code></pre></div><br> <p>修改\flink-shaded\flink-shaded-hadoop-2-parent\flink-shaded-hadoop-2\pom.xml</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>packaging<span class="token punctuation">&gt;</span></span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>packaging<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>hadoop<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">-</span><span class="token number">14.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>  <span class="token comment">//旧：&lt;version&gt;${hadoop.version}-10.0&lt;/version&gt;  &lt;!--对应flink的版本1.14.5--&gt;</span>
</code></pre></div><br> <p>修改flink-shaded\flink-shaded-hadoop-2-parent\flink-shaded-hadoop-2-uber\pom.xml</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>packaging<span class="token punctuation">&gt;</span></span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>packaging<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>hadoop<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">-</span><span class="token number">14.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>  <span class="token comment">//旧：&lt;version&gt;${hadoop.version}-10.0&lt;/version&gt;   &lt;!--对应flink的版本1.14.5--&gt;</span>
    
<span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>flink<span class="token operator">-</span>shaded<span class="token operator">-</span>hadoop<span class="token operator">-</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>hadoop<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">-</span><span class="token number">14.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>   <span class="token comment">//旧：  &lt;version&gt;${hadoop.version}-10.0&lt;/version&gt; &lt;!--对应flink的版本1.14.5--&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>                                  <span class="token comment">//增加依赖</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>commons<span class="token operator">-</span>cli<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>commons<span class="token operator">-</span>cli<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.3</span><span class="token number">.1</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>    
</code></pre></div><br> <p>在flink-shaded目录下，执行 mvn clean install -DskipTests -Dhadoop.version=3.3.4 -Drat.skip=true 进行编译</p> <p>将 flink-shaded-hadoop-2-uber-3.3.4-14.0.jar 上传到 /root/tools/flink-1.14.5/lib目录</p> <br> <h4 id="下载jar包"><a href="#下载jar包" class="header-anchor">#</a> 下载jar包</h4> <p>登录maven官方仓库</p> <p>搜索flink connector kafka，下载flink-connector-kafka_2.12-1.14.5.jar,用于flink集成kafka</p> <p>搜索flink sql connector kafka，下载flink-sql-connector-kafka_2.12-1.14.5.jar,用于flink sql集成kafka</p> <p>搜索 kafka clients ，下载kafka-clients-3.2.0.jar</p> <p>搜索flink sql connector mysql cdc ，下载flink-sql-connector-mysql-cdc-2.2.1.jar ,用于flink sql集成mysql cdc</p> <p>将4个jar上传到 /root/tools/flink-1.14.5/lib目录</p> <br> <h3 id="flink-sql接收kafka消息"><a href="#flink-sql接收kafka消息" class="header-anchor">#</a> flink sql接收kafka消息</h3> <h4 id="启动-flink"><a href="#启动-flink" class="header-anchor">#</a> 启动 flink</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /root/tools/flink-1.14.5/bin

--设置环境变量
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HADOOP_CLASSPATH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>$HADOOP_HOME/bin/hadoop classpath<span class="token variable">`</span></span>

--启动集群
./start-cluster.sh

</code></pre></div><br> <h4 id="kafka产生消息"><a href="#kafka产生消息" class="header-anchor">#</a> kafka产生消息</h4> <h6 id="启动-kafka"><a href="#启动-kafka" class="header-anchor">#</a> 启动 kafka</h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/tools/kafka_2.12-3.2.0/bin
<span class="token function">nohup</span> <span class="token function">sh</span> kafka-server-start.sh <span class="token punctuation">..</span>/config/server.properties <span class="token operator">&amp;</span>                               <span class="token comment">#非守护进程启动，进程容易异常挂掉</span>

<span class="token function">nohup</span> <span class="token function">sh</span> kafka-server-start.sh <span class="token parameter variable">-daemon</span> <span class="token punctuation">..</span>/config/server.properties <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>      <span class="token comment">#守护进程启动，防止进程异常挂掉</span>
</code></pre></div><br> <h6 id="创建-topic"><a href="#创建-topic" class="header-anchor">#</a> 创建 topic</h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/tools/kafka_2.12-3.2.0/bin
./kafka-topics.sh <span class="token parameter variable">--create</span> --bootstrap-server <span class="token number">192.168</span>.17.149:9092 --replication-factor <span class="token number">1</span> <span class="token parameter variable">--partitions</span> <span class="token number">1</span> <span class="token parameter variable">--topic</span> flinktest
</code></pre></div><br> <h6 id="查看当前-topic-列表"><a href="#查看当前-topic-列表" class="header-anchor">#</a> 查看当前 topic 列表</h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/tools/kafka_2.12-3.2.0/bin
./kafka-topics.sh <span class="token parameter variable">--list</span> --bootstrap-server <span class="token number">192.168</span>.17.149:9092
</code></pre></div><br> <h6 id="产生消息"><a href="#产生消息" class="header-anchor">#</a> 产生消息</h6> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /root/tools/kafka_2.12-3.2.0/bin
<span class="token function">sh</span> kafka-console-producer.sh --broker-list <span class="token number">192.168</span>.17.149:9092 <span class="token parameter variable">--topic</span> flinktest
//生产端发消息
<span class="token punctuation">{</span><span class="token string">&quot;tinyint0&quot;</span><span class="token builtin class-name">:</span> <span class="token number">6</span>, <span class="token string">&quot;smallint1&quot;</span><span class="token builtin class-name">:</span> <span class="token number">223</span>, <span class="token string">&quot;int2&quot;</span><span class="token builtin class-name">:</span> <span class="token number">42999</span>, <span class="token string">&quot;bigint3&quot;</span><span class="token builtin class-name">:</span> <span class="token number">429450</span>, <span class="token string">&quot;float4&quot;</span><span class="token builtin class-name">:</span> <span class="token number">95.47324181659323</span>, <span class="token string">&quot;double5&quot;</span><span class="token builtin class-name">:</span> <span class="token number">340.5755392968011</span>,<span class="token string">&quot;decimal6&quot;</span><span class="token builtin class-name">:</span> <span class="token number">111.1111</span>, <span class="token string">&quot;boolean7&quot;</span><span class="token builtin class-name">:</span> true,  <span class="token string">&quot;char8&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;dddddd&quot;</span>, <span class="token string">&quot;varchar9&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;buy0&quot;</span>, <span class="token string">&quot;string10&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;buy1&quot;</span>, <span class="token string">&quot;timestamp11&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-09-13 03:08:50.810&quot;</span><span class="token punctuation">}</span>
</code></pre></div><br> <h6 id="消费消息"><a href="#消费消息" class="header-anchor">#</a> 消费消息</h6> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/tools/kafka_2.12-3.2.0/bin
<span class="token function">sh</span> kafka-console-consumer.sh --bootstrap-server <span class="token number">192.168</span>.17.149:9092   <span class="token parameter variable">--topic</span> flinktest --from-beginning
</code></pre></div><br> <h4 id="进入-flinksql"><a href="#进入-flinksql" class="header-anchor">#</a> 进入 flinksql</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/tools/flink-1.14.5/bin

--设置环境变量
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HADOOP_CLASSPATH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>$HADOOP_HOME/bin/hadoop classpath<span class="token variable">`</span></span>

./sql-client.sh embedded
</code></pre></div><br> <h6 id="创建与-kafka-关联的表"><a href="#创建与-kafka-关联的表" class="header-anchor">#</a> 创建与 kafka 关联的表</h6> <div class="language-sql extra-class"><pre class="language-sql"><code>Flink <span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> kafkatest <span class="token punctuation">(</span>
<span class="token operator">&gt;</span>    tinyint0 <span class="token keyword">TINYINT</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>smallint1 <span class="token keyword">SMALLINT</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>int2 <span class="token keyword">INT</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>bigint3 <span class="token keyword">BIGINT</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>float4 <span class="token keyword">FLOAT</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>double5 <span class="token keyword">DOUBLE</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>decimal6 <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>boolean7 <span class="token keyword">BOOLEAN</span>
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>char8 STRING
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>varchar9 STRING
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>string10 STRING
<span class="token operator">&gt;</span>   <span class="token punctuation">,</span>timestamp11 STRING
<span class="token operator">&gt;</span> <span class="token punctuation">)</span> <span class="token keyword">WITH</span> <span class="token punctuation">(</span>
<span class="token operator">&gt;</span>     <span class="token string">'connector'</span> <span class="token operator">=</span> <span class="token string">'kafka'</span><span class="token punctuation">,</span>   <span class="token comment">-- 使用 kafka connector</span>
<span class="token operator">&gt;</span>     <span class="token string">'topic'</span> <span class="token operator">=</span> <span class="token string">'flinktest'</span><span class="token punctuation">,</span>   <span class="token comment">-- kafka topic名称</span>
<span class="token operator">&gt;</span>     <span class="token string">'scan.startup.mode'</span> <span class="token operator">=</span> <span class="token string">'earliest-offset'</span><span class="token punctuation">,</span>  <span class="token comment">-- 从起始 offset 开始读取</span>
<span class="token operator">&gt;</span>     <span class="token string">'properties.bootstrap.servers'</span> <span class="token operator">=</span> <span class="token string">'192.168.17.149:9092'</span><span class="token punctuation">,</span>  <span class="token comment">-- kafka broker 地址</span>
<span class="token operator">&gt;</span>     <span class="token string">'properties.group.id'</span> <span class="token operator">=</span> <span class="token string">'testgroup1'</span><span class="token punctuation">,</span>
<span class="token operator">&gt;</span>     <span class="token string">'value.format'</span> <span class="token operator">=</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
<span class="token operator">&gt;</span>     <span class="token string">'value.json.fail-on-missing-field'</span> <span class="token operator">=</span> <span class="token string">'true'</span><span class="token punctuation">,</span>
<span class="token operator">&gt;</span>     <span class="token string">'value.fields-include'</span> <span class="token operator">=</span> <span class="token string">'ALL'</span>
<span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token keyword">Execute</span> statement succeed<span class="token punctuation">.</span>
</code></pre></div><br> <h6 id="查询表"><a href="#查询表" class="header-anchor">#</a> 查询表</h6> <p>在 kafka 生产端，发消息后，应看到表接收到数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code>Flink <span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> kafkatest <span class="token punctuation">;</span>
</code></pre></div><br> <h3 id="flink-sql接收mysql-cdc消息"><a href="#flink-sql接收mysql-cdc消息" class="header-anchor">#</a> flink sql接收mysql cdc消息</h3> <h5 id="查看数据库是否开启bin-log"><a href="#查看数据库是否开启bin-log" class="header-anchor">#</a> 查看数据库是否开启bin_log</h5> <p>如没有开启，需要修改/etc/my.cnf文件，增加如下内容并重启数据库</p> <div class="language-shell extra-class"><pre class="language-shell"><code>log-bin<span class="token operator">=</span>mysql-bin
binlog-format<span class="token operator">=</span>ROW
</code></pre></div><br> <h5 id="进入flinksql并创建关联mysql的表"><a href="#进入flinksql并创建关联mysql的表" class="header-anchor">#</a> 进入flinksql并创建关联mysql的表</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>Flink <span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> users_source_mysql <span class="token punctuation">(</span>
<span class="token operator">&gt;</span>  id <span class="token keyword">BIGINT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token operator">NOT</span> ENFORCED
<span class="token operator">&gt;</span> <span class="token punctuation">,</span>name STRING
<span class="token operator">&gt;</span> <span class="token punctuation">,</span>birthday <span class="token keyword">TIMESTAMP</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token punctuation">,</span>ts <span class="token keyword">TIMESTAMP</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token punctuation">)</span> <span class="token keyword">WITH</span><span class="token punctuation">(</span>
<span class="token operator">&gt;</span> <span class="token string">'connector'</span> <span class="token operator">=</span> <span class="token string">'mysql-cdc'</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'hostname'</span>  <span class="token operator">=</span> <span class="token string">'192.168.17.149'</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'port'</span>      <span class="token operator">=</span> <span class="token string">'3306'</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'username'</span>  <span class="token operator">=</span> <span class="token string">'root'</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'password'</span>  <span class="token operator">=</span> <span class="token string">'qaz123689'</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'server-time-zone'</span>        <span class="token operator">=</span> <span class="token string">'Asia/Shanghai'</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'debezium. snapshot.mode'</span> <span class="token operator">=</span> <span class="token string">'initial '</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'database-name'</span> <span class="token operator">=</span> <span class="token string">'test'</span> <span class="token punctuation">,</span>
<span class="token operator">&gt;</span> <span class="token string">'table-name'</span> <span class="token operator">=</span> <span class="token string">'tbl_users'</span>
<span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token keyword">Execute</span> statement succeed<span class="token punctuation">.</span>

Flink <span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> users_source_mysql<span class="token punctuation">;</span>
</code></pre></div><h5 id="在mysql数据库修改表tbl-users信息、删除表信息、新增记录-flinksql应可观察到数据变化"><a href="#在mysql数据库修改表tbl-users信息、删除表信息、新增记录-flinksql应可观察到数据变化" class="header-anchor">#</a> 在mysql数据库修改表tbl_users信息、删除表信息、新增记录，flinksql应可观察到数据变化</h5> <br> <h3 id="flink-sql创建hudi表并映射hive表"><a href="#flink-sql创建hudi表并映射hive表" class="header-anchor">#</a> flink sql创建hudi表并映射hive表</h3> <h5 id="在hive中创建public数据库"><a href="#在hive中创建public数据库" class="header-anchor">#</a> 在hive中创建public数据库</h5> <div class="language-shell extra-class"><pre class="language-shell"><code>hive<span class="token operator">&gt;</span> create database public <span class="token punctuation">;</span>
</code></pre></div><br> <h5 id="进入flinksql客户端-创建hudi时映射hive表-往hudi表中插入数据"><a href="#进入flinksql客户端-创建hudi时映射hive表-往hudi表中插入数据" class="header-anchor">#</a> 进入flinksql客户端，创建hudi时映射hive表，往hudi表中插入数据</h5> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@hadoopmaster bin<span class="token punctuation">]</span><span class="token comment"># ./sql-client.sh embedded  </span>
Flink SQL<span class="token operator">&gt;</span> CREATE TABLE nation_info<span class="token punctuation">(</span>
<span class="token operator">&gt;</span>  numeric_code     int
<span class="token operator">&gt;</span> ,national_name    string
<span class="token operator">&gt;</span> ,roman_spelling   string
<span class="token operator">&gt;</span> ,alphabetic_code  string
<span class="token operator">&gt;</span> ,primary key<span class="token punctuation">(</span>numeric_code<span class="token punctuation">)</span> not enforced
<span class="token operator">&gt;</span> <span class="token punctuation">)</span>WITH <span class="token punctuation">(</span>
<span class="token operator">&gt;</span>   <span class="token string">'connector'</span> <span class="token operator">=</span> <span class="token string">'hudi'</span>,
<span class="token operator">&gt;</span>   <span class="token string">'path'</span> <span class="token operator">=</span> <span class="token string">'hdfs:///user/flink/hudi/public/nation_info'</span>,  --hudi表的hdfs存储路径
<span class="token operator">&gt;</span>   <span class="token string">'table.type'</span> <span class="token operator">=</span> <span class="token string">'COPY_ON_WRITE'</span>,                         --写时复制模式   
<span class="token operator">&gt;</span>   <span class="token string">'write.bucket_assign.tasks'</span> <span class="token operator">=</span> <span class="token string">'1'</span>,
<span class="token operator">&gt;</span>   <span class="token string">'write.tasks'</span> <span class="token operator">=</span> <span class="token string">'1'</span>,
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.enable'</span><span class="token operator">=</span> <span class="token string">'true'</span>, -- 开启自动同步hive
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.mode'</span><span class="token operator">=</span> <span class="token string">'hms'</span>,    -- 自动同步hive模式，默认jdbc模式
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.metastore.uris'</span><span class="token operator">=</span> <span class="token string">'thrift://192.168.17.149:9083'</span>,   -- hive metastore地址
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.jdbc_url'</span> <span class="token operator">=</span> <span class="token string">'jdbc:hive2://192.168.17.149:10000'</span>,   -- required, hiveServer地址
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.table'</span><span class="token operator">=</span> <span class="token string">'nation_info'</span>,      -- hive 新建表名
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.db'</span><span class="token operator">=</span> <span class="token string">'public'</span>,              -- hive 新建数据库名
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.username'</span><span class="token operator">=</span> <span class="token string">'hive'</span>,          -- hive 用户名
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.password'</span><span class="token operator">=</span> <span class="token string">'qaz123689'</span>,     -- hive 密码
<span class="token operator">&gt;</span>   <span class="token string">'hive_sync.support_timestamp'</span><span class="token operator">=</span> <span class="token string">'true'</span>  -- 兼容hive timestamp类型
<span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Flink SQL<span class="token operator">&gt;</span> insert into nation_info VALUES
<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">101</span>,<span class="token string">'汉族测试'</span>,<span class="token string">'Han'</span>,<span class="token string">'HA'</span><span class="token punctuation">)</span>,
<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">102</span>,<span class="token string">'蒙古族测试'</span>,<span class="token string">'Mongol'</span>,<span class="token string">'MG'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Submitting SQL update statement to the cluster<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> SQL update statement has been successfully submitted to the cluster:
Job ID: ed3e34be09a0c71984d7dc26b33fdf54
Flink SQL<span class="token operator">&gt;</span> 

</code></pre></div><br> <h5 id="进入hive数据库-验证映射表功能"><a href="#进入hive数据库-验证映射表功能" class="header-anchor">#</a> 进入hive数据库,验证映射表功能</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>hive<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> <span class="token keyword">public</span><span class="token punctuation">.</span>nation_info <span class="token keyword">where</span>  numeric_code <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">--查询表是否有数据</span>
OK
<span class="token number">20220915171415714</span>       <span class="token number">20220915171415714</span>_0_2   <span class="token number">101</span>             <span class="token number">5</span>f23eff2<span class="token operator">-</span><span class="token number">16</span>ba<span class="token operator">-</span><span class="token number">499</span>f<span class="token operator">-</span><span class="token number">806</span>d<span class="token operator">-</span><span class="token number">6</span>a0dd59777d5_0<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">0</span>_20220915171415714<span class="token punctuation">.</span>parquet    <span class="token number">101</span>     汉族测试        Han     HA
<span class="token number">20220915171415714</span>       <span class="token number">20220915171415714</span>_0_3   <span class="token number">102</span>             <span class="token number">5</span>f23eff2<span class="token operator">-</span><span class="token number">16</span>ba<span class="token operator">-</span><span class="token number">499</span>f<span class="token operator">-</span><span class="token number">806</span>d<span class="token operator">-</span><span class="token number">6</span>a0dd59777d5_0<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">0</span>_20220915171415714<span class="token punctuation">.</span>parquet    <span class="token number">102</span>     蒙古族测试      Mongol  MG
<span class="token keyword">Time</span> taken: <span class="token number">1.354</span> seconds<span class="token punctuation">,</span> Fetched: <span class="token number">2</span> <span class="token keyword">row</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
hive<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">public</span><span class="token punctuation">.</span>nation_info <span class="token punctuation">;</span>                             <span class="token comment">--查看表结构</span>
<span class="token number">2022</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">14</span> <span class="token number">15</span>:<span class="token number">59</span>:<span class="token number">49</span><span class="token punctuation">,</span><span class="token number">151</span> INFO  <span class="token punctuation">[</span><span class="token number">55</span>c9a8f2<span class="token operator">-</span>d526<span class="token operator">-</span><span class="token number">4057</span><span class="token operator">-</span>aa73<span class="token operator">-</span><span class="token number">0</span>ebb073a1440 main<span class="token punctuation">]</span> <span class="token keyword">exec</span><span class="token punctuation">.</span>ListSinkOperator <span class="token punctuation">(</span>Operator<span class="token punctuation">.</span>java:logStats<span class="token punctuation">(</span><span class="token number">1038</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> RECORDS_OUT_INTERMEDIATE:<span class="token number">0</span><span class="token punctuation">,</span> RECORDS_OUT_OPERATOR_LIST_SINK_0:<span class="token number">27</span><span class="token punctuation">,</span> 
<span class="token keyword">CREATE</span> EXTERNAL <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>public.nation_info<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>_hoodie_commit_time<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>_hoodie_commit_seqno<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>_hoodie_record_key<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>_hoodie_partition_path<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>_hoodie_file_name<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>numeric_code<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>national_name<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>roman_spelling<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">`</span>alphabetic_code<span class="token punctuation">`</span></span> string <span class="token keyword">COMMENT</span> <span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">ROW</span> FORMAT SERDE 
  <span class="token string">'org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe'</span> 
<span class="token keyword">WITH</span> SERDEPROPERTIES <span class="token punctuation">(</span> 
  <span class="token string">'hoodie.query.as.ro.table'</span><span class="token operator">=</span><span class="token string">'false'</span><span class="token punctuation">,</span> 
  <span class="token string">'path'</span><span class="token operator">=</span><span class="token string">'hdfs:///user/flink/hudi/public/nation_info'</span><span class="token punctuation">)</span> 
STORED <span class="token keyword">AS</span> INPUTFORMAT 
  <span class="token string">'org.apache.hudi.hadoop.HoodieParquetInputFormat'</span> 
OUTPUTFORMAT 
  <span class="token string">'org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat'</span>
LOCATION
  <span class="token string">'hdfs://192.168.17.149:9000/user/flink/hudi/public/nation_info'</span>
TBLPROPERTIES <span class="token punctuation">(</span>
  <span class="token string">'last_commit_time_sync'</span><span class="token operator">=</span><span class="token string">'20220913210502766'</span><span class="token punctuation">,</span> 
  <span class="token string">'spark.sql.sources.provider'</span><span class="token operator">=</span><span class="token string">'hudi'</span><span class="token punctuation">,</span> 
  <span class="token string">'spark.sql.sources.schema.numParts'</span><span class="token operator">=</span><span class="token string">'1'</span><span class="token punctuation">,</span> 
  <span class="token string">'spark.sql.sources.schema.part.0'</span><span class="token operator">=</span><span class="token string">'{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;_hoodie_commit_time&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;_hoodie_commit_seqno&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;_hoodie_record_key&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;_hoodie_partition_path&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;_hoodie_file_name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;numeric_code&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;nullable&quot;:false,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;national_name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;roman_spelling&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;alphabetic_code&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}'</span><span class="token punctuation">,</span> 
  <span class="token string">'transient_lastDdlTime'</span><span class="token operator">=</span><span class="token string">'1662317806'</span><span class="token punctuation">)</span>
<span class="token keyword">Time</span> taken: <span class="token number">1.366</span> seconds<span class="token punctuation">,</span> Fetched: <span class="token number">27</span> <span class="token keyword">row</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</code></pre></div><br> <h5 id="查看hudi表的hdfs文件"><a href="#查看hudi表的hdfs文件" class="header-anchor">#</a> 查看hudi表的hdfs文件</h5> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@hadoopmaster etc<span class="token punctuation">]</span><span class="token comment"># hadoop fs -ls hdfs:///user/flink/hudi/public/nation_info</span>
Found <span class="token number">3</span> items
drwxr-xr-x   - root supergroup          <span class="token number">0</span> <span class="token number">2022</span>-09-05 02:56 hdfs:///user/flink/hudi/public/nation_info/.hoodie
-rw-r--r--   <span class="token number">3</span> root supergroup         <span class="token number">96</span> <span class="token number">2022</span>-09-05 02:56 hdfs:///user/flink/hudi/public/nation_info/.hoodie_partition_metadata
-rw-r--r--   <span class="token number">3</span> root supergroup     <span class="token number">436145</span> <span class="token number">2022</span>-09-05 02:56 hdfs:///user/flink/hudi/public/nation_info/67a6d28e-2804-4039-8e75-007e54903a2a_0-1-0_20220905025642928.parquet

<span class="token punctuation">[</span>root@hadoopmaster sbin<span class="token punctuation">]</span><span class="token comment"># hadoop fs -ls hdfs:///user/flink/hudi/public/nation_info</span>
Found <span class="token number">6</span> items
drwxr-xr-x   - root supergroup          <span class="token number">0</span> <span class="token number">2022</span>-09-15 <span class="token number">17</span>:14 hdfs:///user/flink/hudi/public/nation_info/.hoodie
-rw-r--r--   <span class="token number">3</span> root supergroup         <span class="token number">96</span> <span class="token number">2022</span>-09-15 <span class="token number">14</span>:52 hdfs:///user/flink/hudi/public/nation_info/.hoodie_partition_metadata
-rw-r--r--   <span class="token number">3</span> root supergroup     <span class="token number">434972</span> <span class="token number">2022</span>-09-15 <span class="token number">14</span>:52 hdfs:///user/flink/hudi/public/nation_info/5f23eff2-16ba-499f-806d-6a0dd59777d5_0-1-0_20220915145209326.parquet
-rw-r--r--   <span class="token number">3</span> root supergroup     <span class="token number">435119</span> <span class="token number">2022</span>-09-15 <span class="token number">17</span>:10 hdfs:///user/flink/hudi/public/nation_info/5f23eff2-16ba-499f-806d-6a0dd59777d5_0-1-0_20220915170959370.parquet
-rw-r--r--   <span class="token number">3</span> root supergroup     <span class="token number">435117</span> <span class="token number">2022</span>-09-15 <span class="token number">17</span>:11 hdfs:///user/flink/hudi/public/nation_info/5f23eff2-16ba-499f-806d-6a0dd59777d5_0-1-0_20220915171157486.parquet
-rw-r--r--   <span class="token number">3</span> root supergroup     <span class="token number">435117</span> <span class="token number">2022</span>-09-15 <span class="token number">17</span>:14 hdfs:///user/flink/hudi/public/nation_info/5f23eff2-16ba-499f-806d-6a0dd59777d5_0-1-0_20220915171415714.parquet
<span class="token punctuation">[</span>root@hadoopmaster sbin<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre></div><br> <h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <ul><li>无</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/alinesno-cloud/alinesno-cloud-platform-press/edit/2.1.3-Alpha/docs/operation/39_hudi/06_Hudi安装.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/5/2024, 10:34:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/operation/39_hudi/01_Flink安装.html" class="prev">
        flink 安装
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0bbd86b0.js" defer></script><script src="/assets/js/4.2978aa4d.js" defer></script><script src="/assets/js/2.322fa787.js" defer></script><script src="/assets/js/1.c4b01093.js" defer></script><script src="/assets/js/176.43f2e1b5.js" defer></script>
  </body>
</html>
