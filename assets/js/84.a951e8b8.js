(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{457:function(t,s,a){"use strict";a.r(s);var r=a(8),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前端数据采集"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端数据采集"}},[t._v("#")]),t._v(" 前端数据采集")]),t._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("采集web站点的前端页面操作信息和nginx服务器日志，用于统计分析web应用的会话数、浏览量、访问时长、web服务的成功次数、失败次数等信息，为管理者呈现web站点的运行情况及为后续的优化提供依据和支撑")]),t._v(" "),s("h2",{attrs:{id:"针对人员"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对人员"}},[t._v("#")]),t._v(" 针对人员")]),t._v(" "),s("ul",[s("li",[t._v("数据开发工程师")]),t._v(" "),s("li",[t._v("业务开发人员")])]),t._v(" "),s("h2",{attrs:{id:"本内容你将获得"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本内容你将获得"}},[t._v("#")]),t._v(" 本内容你将获得")]),t._v(" "),s("ul",[s("li",[t._v("如何采集前端页面操作信息")]),t._v(" "),s("li",[t._v("如何采集nginx服务器日志")])]),t._v(" "),s("h3",{attrs:{id:"采集前端页面操作信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#采集前端页面操作信息"}},[t._v("#")]),t._v(" 采集前端页面操作信息")]),t._v(" "),s("h4",{attrs:{id:"部署采集前端操作信息工具包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署采集前端操作信息工具包"}},[t._v("#")]),t._v(" 部署采集前端操作信息工具包")]),t._v(" "),s("p",[t._v("在components目录下增加采集代码包")]),t._v(" "),s("p",[t._v("在vue工程的components目录中，部署采集前端界面操作信息的js程序包")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("目录摘要\n└───vue前端工程\n└──────src\n└──────components\n└─────────websdk                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#采集web前端操作信息工具包")]),t._v("\n└────────────config.js          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置文件")]),t._v("\n└────────────tracker.js         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#跟踪器")]),t._v("\n└────────────utils.js           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#跟踪器工具类的集成包")]),t._v("\n")])])]),s("p",[t._v("配置说明：")]),t._v(" "),s("ul",[s("li",[t._v("本示例为采集vue前端框架的项目")]),t._v(" "),s("li",[t._v("在config.js中配置web的应用名称、接收采集信息的接口API地址")]),t._v(" "),s("li",[t._v("在tracker.js中可配置监听所有的button按钮操作、页面加载自动上报、页面history变化自动上报、页面hash变化自动上报等")]),t._v(" "),s("li",[t._v("在tracker.js中可配置监听的鼠标事件等")]),t._v(" "),s("li",[t._v("在tracker.js中可开启约定拥有属性值为'tracker-key'的dom的点击事件自动上报。开启后，可采集dom元素拥有属性值为'tracker-key'的点击事件")]),t._v(" "),s("li",[t._v("在tracker.js中，通过XMLHttpRequest发送消息到接收消息接口API。在项目开发阶段，发送消息时，可设置向浏览器控制台打印信息，在项目上线时，设置不再向浏览器控制台打印信息")])]),t._v(" "),s("h4",{attrs:{id:"在main-js挂载tracker实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在main-js挂载tracker实例"}},[t._v("#")]),t._v(" 在main.js挂载tracker实例")]),t._v(" "),s("p",[t._v("在vue工程的main.js中引入tracker.js，并挂载tracker实例")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("#省略若干行\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v("  Tracker  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/components/websdk/tracker.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  #\n#省略若干行\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tracker "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Tracker")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n#省略若干行\n")])])]),s("h4",{attrs:{id:"在config-js中配置后端接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在config-js中配置后端接口"}},[t._v("#")]),t._v(" 在config.js中配置后端接口")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("appid")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'****'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       #应用名称\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("serverUrl")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://ip:端口/接口名称'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  #接收采集工具包发送数据的后端接口"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("serverTimeout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.0.0'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("项目运行后，在浏览器控制台可看到采集前端的操作信息，数据格式如下")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"案件管理"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"64"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browserEngine"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Blink"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browserLang"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-CN"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browserType"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Chrome"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browserVersion"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"86.0.4240.198"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cookie"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"caseManager_a87746e0-609b-11ed-a1d9-b58d3b0b9fd6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eventId"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"innerHistoryChange"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eventTime"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1668045802878"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eventType"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pushState"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"host"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost:1025"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hostname"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"localCityID"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"localIP"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"origin"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://IP地址:端口"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"osType"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Windows"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"osVersion"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pathname"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/caseProcessingSchedule/list"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"port"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1025"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"protocol"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"referrer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"涉案物品"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ua"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://IP地址:端口/caseProcessingSchedule/list"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uuid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a87746e0-609b-11ed-a1d9-b58d3b0b9fd6"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h5",{attrs:{id:"验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),s("p",[t._v("在hive数据仓库，可看到采集的前端数据已入库")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("hive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ods_data_hub "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nOK\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419508")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419508")]),t._v("_0_0   deviceID:b6c34800"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("b61"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("ed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("961")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("db76b0ef4e07"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("eventTime:"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("eventId:innerHistoryChange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("eventType:pushState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url:ip  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022110411")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419508")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419508")]),t._v("_0_1   deviceID:b6c34800"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("b61"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("ed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("961")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("db76b0ef4e07"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("eventTime:"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("eventId:innerHistoryChange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("eventType:replaceState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url:ip\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Time")]),t._v(" taken: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.405")]),t._v(" seconds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Fetched: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h3",{attrs:{id:"采集nginx服务器日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#采集nginx服务器日志"}},[t._v("#")]),t._v(" 采集nginx服务器日志")]),t._v(" "),s("h4",{attrs:{id:"配置nginx日志格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx日志格式"}},[t._v("#")]),t._v(" 配置nginx日志格式")]),t._v(" "),s("p",[t._v("在nginx服务器的配置文件中，新增json数据格式并设置访问日志采用json数据格式。摘要如下：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("http "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    #省略若干行\n    log_format log_json  '"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"time_iso8601"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$time_iso8601"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"time_local"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$time_local"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remote_addr"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$remote_addr"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remote_port"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$remote_port"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remote_user"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$remote_user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_body"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_body"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_body_file"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_body_file"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_completion"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_completion"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_filename"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_filename"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_length"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_length"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_method"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_method"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_time"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_time"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_uri"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_uri"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"https"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$https"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$status"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"body_bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$body_bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_user_agent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_user_agent"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_referer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_referer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_cookie"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_cookie"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"server_addr"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$server_addr"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"server_name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$server_name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"server_port"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$server_port"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"server_protocol"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$server_protocol"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_host"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_host"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"host"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$host"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hostname"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$hostname"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"is_args"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$is_args"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$args"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"arg_name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$arg_name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         '"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uri"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$uri"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'\n                         ' "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("';\n     access_log  /var/log/nginx/access.log  log_json;\n     #省略若干行\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"发送nginx日志到后端服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送nginx日志到后端服务"}},[t._v("#")]),t._v(" 发送nginx日志到后端服务")]),t._v(" "),s("p",[t._v("部署Filebeat工具，读取nginx服务器产生的json格式日志文件，将数据发送到后端服务")]),t._v(" "),s("p",[t._v("filebeat_nginx.yml配置如下：")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filebeat.modules")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("var.paths")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/nginx-log/log/access.log"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("var.paths")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/nginx-log/log/error.log"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#----------------------------------Kafka output--------------------------------#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("output.kafka")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# initial brokers for reading cluster metadata")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hosts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("IP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('端口"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# message topic selection + partitioning")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("topic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test_log'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("partition.round_robin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("reachable_only")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required_acks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("compression")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gzip\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max_message_bytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("codec.format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%{[message]}'")]),t._v("\n")])])]),s("p",[t._v("Filebeat运行后，将实时收集nginx产生的日志")]),t._v(" "),s("h5",{attrs:{id:"验证-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证-2"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),s("p",[t._v("在hive数据仓库，可看到采集的前端数据已入库")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("hive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" ods_web_nginx_log "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nOK\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419918")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419918")]),t._v("_0_0   time_iso8601:"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("remote_addr:ip "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http_x_forwarded_for:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("request_uri:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("chunk"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("UI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("e0a3897"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http_referer:ip\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419918")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20221104150419918")]),t._v("_0_1   time_iso8601:"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("remote_addr:ip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http_x_forwarded_for:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("request_uri:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("chunk"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("libs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c228d0f6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http_referer:ip\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Time")]),t._v(" taken: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.211")]),t._v(" seconds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Fetched: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h2",{attrs:{id:"其它"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[t._v("#")]),t._v(" 其它")]),t._v(" "),s("ul",[s("li",[t._v("无")])])])}),[],!1,null,null,null);s.default=e.exports}}]);