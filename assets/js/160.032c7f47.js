(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{534:function(a,e,s){"use strict";s.r(e);var t=s(8),r=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"zookeeper-安装配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper-安装配置"}},[a._v("#")]),a._v(" zookeeper 安装配置")]),a._v(" "),e("h2",{attrs:{id:"本内容你将获得"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本内容你将获得"}},[a._v("#")]),a._v(" 本内容你将获得")]),a._v(" "),e("ul",[e("li",[a._v("Linux 上 zookeeper 的单点安装教程")]),a._v(" "),e("li",[a._v("Linux 上 zookeeper 的集群安装教程")])]),a._v(" "),e("h2",{attrs:{id:"单点安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单点安装"}},[a._v("#")]),a._v(" 单点安装")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("上传 zookeeper3.4.6 至 Linux 服务器"),e("code",[a._v("/home/alinesno/zookeeper")]),a._v("目录")]),a._v(" "),e("blockquote",[e("p",[a._v("此处用户可以使用 xftp 或者 xshell 等工具，书要简言")])])]),a._v(" "),e("li",[e("p",[a._v("解压")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home/alinesno/zookeeper\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-zxvf")]),a._v(" zookeeper-3.4.6.tar.gz   解压之后zk路径为 /home/alinesno/zookeeper/zookeeper-3.4.6\n")])])])]),a._v(" "),e("li",[e("p",[a._v("环境变量配置\n创建日志和数据目录")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" /home/alinesno/zookeeper/data    数据路径\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" /home/alinesno/zookeeper/logs    日志路径\n")])])])]),a._v(" "),e("li",[e("p",[a._v("修改配置")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v(" 复制默认配置为zoo.cfg\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home/alinesno/zookeeper/zookeeper-3.4.6/conf/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" zoo_sample.cfg zoo.cfg\n")])])]),e("p",[a._v("修改以下两项")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vim /home/alinesno/zookeeper/zookeeper-3.4.6/conf/zoo.cfg\n\n 修改以下内容\ndataDir=/home/alinesno/zookeeper/data\ndataLogDir=/home/alinesno/zookeeper/data\n")])])])]),a._v(" "),e("li",[e("p",[a._v("启动 zk")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home/alinesno/zookeeper/zookeeper-3.4.6/bin    进入zk目录\n\n./zkServer.sh start    启动zk日志\n./zkServer.sh status   查看启动状态\n")])])])])]),a._v(" "),e("h2",{attrs:{id:"添加-zookeeper-开机自启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加-zookeeper-开机自启动"}},[a._v("#")]),a._v(" 添加 zookeeper 开机自启动")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /etc/rc.d\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" rc.local\n zookeeper开机自启\n/home/alinesno/zookeeper/zookeeper-3.4.6/bin/zkServer.sh start```\n保存后退出\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 集群安装 --\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" zk集群安装只能为2n+1单数"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("如1/3/5"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("，集群数量不能为偶数 --"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- - 环境变量 --"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- - zk配置 --"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- - 集群启动 --"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## Ansible构建 --\x3e")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 镜像 --\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- - 构建镜像 --"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- - 使用 --"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 参考资料 --\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("-- - "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("GitBook官网"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("http://www.baidu.com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" --"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);