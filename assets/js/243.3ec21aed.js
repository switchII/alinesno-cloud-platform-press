(window.webpackJsonp=window.webpackJsonp||[]).push([[243],{635:function(t,a,s){"use strict";s.r(a);var n=s(8),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"表单校验说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表单校验说明"}},[t._v("#")]),t._v(" 表单校验说明")]),t._v(" "),a("p",[t._v("hibernate Validator 是 Bean Validation 的参考实现 。\nHibernate Validator 提供了 JSR 303 规范中所有内置 constraint 的实现，除此之外还有一些附加的 constraint。")]),t._v(" "),a("h2",{attrs:{id:"bean-validation-中内置的-constraint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bean-validation-中内置的-constraint"}},[t._v("#")]),t._v(" Bean Validation 中内置的 constraint")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("注解")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("@Valid")]),t._v(" "),a("td",[t._v("被注释的元素是一个对象，需要检查此对象的所有字段值")])]),t._v(" "),a("tr",[a("td",[t._v("@Null")]),t._v(" "),a("td",[t._v("被注释的元素必须为 null")])]),t._v(" "),a("tr",[a("td",[t._v("@NotNull")]),t._v(" "),a("td",[t._v("被注释的元素必须不为 null")])]),t._v(" "),a("tr",[a("td",[t._v("@AssertTrue")]),t._v(" "),a("td",[t._v("被注释的元素必须为 true")])]),t._v(" "),a("tr",[a("td",[t._v("@AssertFalse")]),t._v(" "),a("td",[t._v("被注释的元素必须为 false")])]),t._v(" "),a("tr",[a("td",[t._v("@Min(value)")]),t._v(" "),a("td",[t._v("被注释的元素必须是一个数字，其值必须大于等于指定的最小值")])]),t._v(" "),a("tr",[a("td",[t._v("@Max(value)")]),t._v(" "),a("td",[t._v("被注释的元素必须是一个数字，其值必须小于等于指定的最大值")])]),t._v(" "),a("tr",[a("td",[t._v("@DecimalMin(value)")]),t._v(" "),a("td",[t._v("被注释的元素必须是一个数字，其值必须大于等于指定的最小值")])]),t._v(" "),a("tr",[a("td",[t._v("@DecimalMax(value)")]),t._v(" "),a("td",[t._v("被注释的元素必须是一个数字，其值必须小于等于指定的最大值")])]),t._v(" "),a("tr",[a("td",[t._v("@Size(max, min)")]),t._v(" "),a("td",[t._v("被注释的元素的大小必须在指定的范围内")])]),t._v(" "),a("tr",[a("td",[t._v("@Digits (integer, fraction)")]),t._v(" "),a("td",[t._v("被注释的元素必须是一个数字，其值必须在可接受的范围内")])]),t._v(" "),a("tr",[a("td",[t._v("@Past")]),t._v(" "),a("td",[t._v("被注释的元素必须是一个过去的日期")])]),t._v(" "),a("tr",[a("td",[t._v("@Future")]),t._v(" "),a("td",[t._v("被注释的元素必须是一个将来的日期")])]),t._v(" "),a("tr",[a("td",[t._v("@Pattern(value)")]),t._v(" "),a("td",[t._v("被注释的元素必须符合指定的正则表达式")])])])]),t._v(" "),a("h2",{attrs:{id:"hibernate-validator-附加的-constraint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hibernate-validator-附加的-constraint"}},[t._v("#")]),t._v(" Hibernate Validator 附加的 constraint")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("注解")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("@Email")]),t._v(" "),a("td",[t._v("被注释的元素必须是电子邮箱地址")])]),t._v(" "),a("tr",[a("td",[t._v("@Length(min=, max=)")]),t._v(" "),a("td",[t._v("被注释的字符串的大小必须在指定的范围内")])]),t._v(" "),a("tr",[a("td",[t._v("@NotEmpty")]),t._v(" "),a("td",[t._v("被注释的字符串的必须非空")])]),t._v(" "),a("tr",[a("td",[t._v("@Range(min=, max=)")]),t._v(" "),a("td",[t._v("被注释的元素必须在合适的范围内")])]),t._v(" "),a("tr",[a("td",[t._v("@NotBlank")]),t._v(" "),a("td",[t._v("被注释的字符串的必须非空")])]),t._v(" "),a("tr",[a("td",[t._v("@URL(protocol=,host=,    port=,regexp=, flags=)")]),t._v(" "),a("td",[t._v("被注释的字符串必须是一个有效的 url")])]),t._v(" "),a("tr",[a("td",[t._v("@CreditCardNumber")]),t._v(" "),a("td",[t._v("被注释的字符串必须通过 Luhn 校验算法， 银行卡，信用卡等号码一般都用 Luhn 计算合法性")])]),t._v(" "),a("tr",[a("td",[t._v("@ScriptAssert(lang=, script=, alias=)")]),t._v(" "),a("td",[t._v('要有 Java Scripting API 即 JSR 223 ("Scripting for the JavaTM Platform")的实现')])]),t._v(" "),a("tr",[a("td",[t._v("@SafeHtml(whitelistType=,additionalTags=)")]),t._v(" "),a("td",[t._v("classpath 中要有 jsoup 包")])])])]),t._v(" "),a("h2",{attrs:{id:"自定义注解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义注解"}},[t._v("#")]),t._v(" 自定义注解")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("注解")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("@Phone")]),t._v(" "),a("td",[t._v("中国手机号格式校验")])])])]),t._v(" "),a("h2",{attrs:{id:"注意说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意说明"}},[t._v("#")]),t._v(" 注意说明")]),t._v(" "),a("p",[t._v("主要区分下@NotNull  @NotEmpty  @NotBlank 3 个注解的区别：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("注解")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("@NotNull")]),t._v(" "),a("td",[t._v("任何对象的 value 不能为 null")])]),t._v(" "),a("tr",[a("td",[t._v("@NotEmpty")]),t._v(" "),a("td",[t._v("集合对象的元素不为 0，即集合不为空，也可以用于字符串不为 null")])]),t._v(" "),a("tr",[a("td",[t._v("@NotBlank")]),t._v(" "),a("td",[t._v("只能用于字符串不为 null，并且字符串 trim()以后 length 要大于 0")])])])]),t._v(" "),a("h2",{attrs:{id:"使用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[t._v("#")]),t._v(" 使用示例")]),t._v(" "),a("p",[t._v("Java 注解对接")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RegisterBean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Email")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"注册用户名只能为邮箱."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@NotBlank")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"邮箱不能为空."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Length")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"邮箱最大长度不能超过32位"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" loginName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 邮箱")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@NotBlank")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"密码不能为空."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Length")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"密码最大长度不能超过32位,最小不能小于4位"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" password "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 密码")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@NotBlank")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"验证码不能为空."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Length")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"验证码长度为6位"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" phoneCode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 手机验证码")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此处省略get/set")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("在控制层使用，在类上添加"),a("code",[t._v("@Validated")]),t._v("即实现注解")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResponseBean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerSave")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Validated")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RegisterBean")]),t._v(" registerBean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);