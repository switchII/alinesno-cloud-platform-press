(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{545:function(a,t,s){"use strict";s.r(t);var e=s(8),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"gitea-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gitea-安装"}},[a._v("#")]),a._v(" Gitea 安装")]),a._v(" "),t("h2",{attrs:{id:"软件安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件安装"}},[a._v("#")]),a._v(" 软件安装")]),a._v(" "),t("h3",{attrs:{id:"获取gitea"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取gitea"}},[a._v("#")]),a._v(" 获取gitea")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("下载文件\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" /home/alinesno/soft/gitea "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" /home/alinesno/soft/gitea/gitea https://dl.gitea.io/gitea/1.17.1/gitea-1.17.1-linux-amd64 --no-check-certificate\n\n添加目录及添加执行权限\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" /home/alinesno/soft/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("data,log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x /home/alinesno/soft/gitea "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v("\n\n修改文件用户及组\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" git:git /home/alinesno/soft/gitea "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v("\n\n")])])]),t("h3",{attrs:{id:"配置gitea并启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置gitea并启动"}},[a._v("#")]),a._v(" 配置gitea并启动")]),a._v(" "),t("p",[a._v("编辑服务gitea服务文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/systemd/system/gitea.service\n")])])]),t("p",[a._v("添加如下内容")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Unit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Description")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Gitea "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Git with a cup of tea"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("After")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("syslog.target\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("After")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("network.target\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RestartSec")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("2s\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("simple\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("User")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("git\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Group")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("git\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("WorkingDirectory")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/alinesno/soft/gitea/\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ExecStart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/alinesno/soft/gitea/gitea web "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--config")]),a._v(" /etc/gitea/app.ini\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Restart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Environment")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("git "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("HOME")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/git "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GITEA_WORK_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/alinesno/soft/gitea\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Install"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("WantedBy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("multi-user.target\n")])])]),t("p",[a._v("激活 gitea 并将它作为系统自启动服务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" gitea\nsystemctl start gitea\n")])])]),t("p",[a._v("访问 ip:3000 进入配置页面,按要求进行配置")]),a._v(" "),t("img",{attrs:{src:"/operation/gitea/01_gitea.png",width:"70%"}}),a._v(" "),t("p",[a._v("配置完毕,等会儿会进入登录页，这时进行注册，第一个注册的用户会自动成为管理员\n"),t("img",{attrs:{src:"/operation/gitea/02_gitea.png",width:"70%"}}),a._v(" "),t("img",{attrs:{src:"/operation/gitea/03_gitea.png",width:"70%"}})]),a._v(" "),t("h2",{attrs:{id:"其它"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[a._v("#")]),a._v(" 其它")]),a._v(" "),t("ul",[t("li",[a._v("无")])])])}),[],!1,null,null,null);t.default=n.exports}}]);