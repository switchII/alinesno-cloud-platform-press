(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{540:function(a,s,t){"use strict";t.r(s);var e=t(8),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"docker-在线安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-在线安装"}},[a._v("#")]),a._v(" Docker 在线安装")]),a._v(" "),s("h2",{attrs:{id:"检查服务器环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查服务器环境"}},[a._v("#")]),a._v(" 检查服务器环境")]),a._v(" "),s("p",[a._v("使用 centos7 进行安装，首先确定系统版本")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("lsb_release "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v("\n")])])]),s("p",[a._v("docker 安装需要系统 64 位、系统内核版本为 3.10 以上")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("uanme "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v("\n")])])]),s("img",{attrs:{src:a.$withBase("/operation/docker_02.png")}}),a._v(" "),s("p",[a._v("检查本机是否已经安装 docker")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum list installed "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v("\n")])])]),s("h2",{attrs:{id:"使用-yum-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-yum-安装"}},[a._v("#")]),a._v(" 使用 yum 安装")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v("\n")])])]),s("p",[a._v("-y 表示不询问，默认 yes 选择")]),a._v(" "),s("h2",{attrs:{id:"启动-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-docker"}},[a._v("#")]),a._v(" 启动 docker")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl start "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v("\n")])])]),s("p",[a._v("查看服务状态")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl status "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v("\n")])])]),s("img",{attrs:{src:a.$withBase("/operation/docker_03.png")}}),a._v(" "),s("p",[a._v("显示 running 说明 docker 已经安装且运行成功")]),a._v(" "),s("h2",{attrs:{id:"设置-docker-开机自启"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置-docker-开机自启"}},[a._v("#")]),a._v(" 设置 docker 开机自启")]),a._v(" "),s("p",[a._v("给 docker.service 文件添加执行权限")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x /etc/systemd/system/docker.service\n")])])]),s("p",[a._v("修改文件后重新加载配置")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl daemon-reload\n")])])]),s("p",[a._v("启动并设置服务开机自启")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl start "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v("          //启动服务\n\nsystemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" docker.service //开机自启\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);