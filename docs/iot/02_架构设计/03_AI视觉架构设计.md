## AI 视觉引擎架构设计

#### 概要

> 此建立在研发中台架构之上

提供视觉数据接入、AI 算法训练、计算资源调度的能力，通过 API 支撑开发业务应用，同时帮助开发者提升视觉 AI 创新效率，专注核心业务创新。

支持上万路实时视频的并行计算，除了提供人脸、人体、机动车、非机动车外，还支持场景类算法如客流统计，人群聚集/滞留、违停、占道经营、拉横幅、打架斗殴、烟火识别等

从摄像头码流到视频 AI 计算，到产出视频数据供上层应用调用，在前端页面呈现，全链路秒级响应；百亿数据毫秒级检索：在百亿级数据规模下支持毫秒级查询检索性能

### 整体技术架构

<img :src="$withBase('/iot/02_iot_vision.png')">

### 技术选型

| 序号 | 说明          | 技术                   | 版本 | 备注                                     |
| :--: | ------------- | ---------------------- | ---- | ---------------------------------------- |
|  1   | 视觉分析      | OpenCV                 |      | 获取视频流转成图片                       |
|  2   | 数据总线      | Kafka                  |      |                                          |
|  3   | 机器/深度学习 | Tensorflow             |      | 当前暂用其它开放平台(阿里/百度/Face++等) |
|  3   | 机器/尝试学习 | Caffe                  |      | 当前暂用其它开放平台(阿里/百度/Face++等) |
|  4   | 流处理框架    | Flink                  |      |                                          |
|  5   | 数据存储      | MySQL                  |      |                                          |
|  5   | 数据中间件    | MyCat                  |      |                                          |
|  5   | 照片存储      | MinIO                  |      | 集群                                     |
|  5   | 数据存储      | 数据仓库套件(数据中台) |      | 行为记录，操作轨迹(暂定)                 |
|  5   | 对外接口服务  | SpringBoot             |      | 集群                                     |
|  5   | 负载均衡      | Nginx/Ingress          |      | .                                        |
|  5   | 视频记录器    | EasyNVR                |      | 暂定                                     |

### 对外能力

专业、全面、易用的视觉 AI 能力

##### 人脸人体

| 序号 | 说明         | 技术 | 进度 | 备注 |
| :--: | ------------ | ---- | ---- | ---- |
|  1   | 人脸属性识别 |      |      |      |
|  2   | 人脸搜索 1:N |      |      |      |
|  3   | 动作行为识别 |      |      | .    |

##### 文字识别

| 序号 | 说明         | 技术 | 进度 | 备注 |
| :--: | ------------ | ---- | ---- | ---- |
|  1   | 车牌识别     |      |      |      |
|  2   | 通用识别     |      |      |      |
|  3   | 营业执照识别 |      |      | .    |

##### 内容安全

| 序号 | 说明             | 技术 | 进度 | 备注 |
| :--: | ---------------- | ---- | ---- | ---- |
|  1   | 图片智能鉴黄     |      |      |      |
|  2   | 文字涉政内容识别 |      |      |      |
|  3   | 文字鉴黄内容识别 |      |      | .    |

##### 视频生产

| 序号 | 说明         | 技术 | 进度 | 备注 |
| :--: | ------------ | ---- | ---- | ---- |
|  1   | 视频人像分割 |      |      |      |
|  2   | 影视视频摘要 |      |      |      |
|  3   | 通用视频生成 |      |      | .    |

##### 人物类

| 序号 | 说明     | 技术 | 进度 | 备注 |
| :--: | -------- | ---- | ---- | ---- |
|  1   | 五官编辑 |      |      |      |
|  2   | 人脸美颜 |      |      |      |
|  3   | 人体分割 |      |      | .    |

##### 分割类

| 序号 | 说明     | 技术 | 进度 | 备注 |
| :--: | -------- | ---- | ---- | ---- |
|  1   | 食品分割 |      |      |      |
|  2   | 通用分割 |      |      |      |
|  3   | 服饰分割 |      |      | .    |

##### 检测类

| 序号 | 说明         | 技术 | 进度 | 备注 |
| :--: | ------------ | ---- | ---- | ---- |
|  1   | 视频活体检测 |      |      |      |
|  2   | 同图检测     |      |      |      |
|  3   | 物体检测     |      |      | .    |

##### 图像编辑

| 序号 | 说明         | 技术 | 进度 | 备注 |
| :--: | ------------ | ---- | ---- | ---- |
|  1   | 图像色彩增强 |      |      |      |
|  2   | 高清色彩迁移 |      |      |      |
|  3   | 照图修图     |      |      | .    |

#### 其它

- 略
