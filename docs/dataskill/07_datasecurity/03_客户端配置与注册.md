# 客户端配置与注册

## 概述

通过客户端与路由进行关联，可以实现对请求的过滤（过滤配置请看路由配置文档）

<img src="/data/data-security/01_client.png" width="70%">

## 本内容你将获得

- 客户端配置
- 客户端注册


## 客户端配置

- IP：客户端IP，与路由过滤器配置IP过滤器相关联，当路由注册了该客户端并且起用了ip过滤器时，来自该IP的请求会通过验证
- 启用与禁用：当处于禁用状态时，即便注册了路由该客户端也不会起效

## 客户端注册

通过客户端注册，可以将客户端与路由进行关联

### 注册方式

- 客户端管理 > 客户端项管理 > 注册网关服务
- 服务管理 > 服务项管理 > 注册客户端

### **注册网关服务**

- 点击添加服务可以选择当前客户端能够关联的路由，当路由被禁用时不会显示在可添加列表
- 点击 操作 > 允许通行即可使注册生效
- 该注册页主要显示注册的路由信息

<img src="/data/data-security/02_client.png" width="70%">

### 注册客户端

- 点击添加客户端即可选择当前路由能够关联的客户端，当客户端被禁用时不会显示在可添加列表
- 点击生成token，可打开JWT通行令牌配置页，生成的令牌可用于通过token过滤器验证
- 点击 操作 > 允许通行即可使注册生效
- 该注册页主要显示注册的客户端信息

<img src="/data/data-security/03_client.png" width="70%">


### JWT通行令牌配置

- 过期时间为必填项，用于设置令牌过期时间

- 生成好的token，可以用于请求中，设置头部或参数为此token，示例： 

  ```shell
  # 头部
  curl -H 'token: <token>' http://xxx.xxx.xxx/xx/xx
  
  # 请求
  curl http://xxx.xxx.xxx/xx/xx?token=<token>
  ``` 

- 配置好该JWT通行令牌的请求可以通过路由token过滤器的验证

<img src="/data/data-security/04_client.png" width="500px">

## 其他

- 无